<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lunar Regolith Simulant Database</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
</head>

<body>
    <!-- Filters Sidebar -->
    <div id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h2>Lunar Regolith Simulants</h2>
            <p class="subtitle">Interactive Database</p>
        </div>

        <div class="filters-section">
            <div class="filter-group">
                <label>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    Quick Select Simulant
                </label>
                <select id="lrs-dropdown" class="select-modern">
                    <option value="">Search or select...</option>
                </select>
            </div>

            <div class="filter-divider"></div>

            <div class="filter-group">
                <label>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 3h18v18H3zM3 9h18M9 21V9"></path>
                    </svg>
                    Type
                </label>
                <select id="type-filter" multiple class="select-modern">
                </select>
            </div>

            <div class="filter-group">
                <label>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M2 12h20"></path>
                        <path
                            d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                        </path>
                    </svg>
                    Country
                </label>
                <select id="country-filter" multiple class="select-modern">
                </select>
            </div>

            <div class="filter-group">
                <label>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5M2 12l10 5 10-5"></path>
                    </svg>
                    Mineral
                </label>
                <select id="mineral-filter" multiple class="select-modern">
                </select>
            </div>

            <div class="filter-group">
                <label>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6"></path>
                        <path d="m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24"></path>
                        <path d="M1 12h6m6 0h6"></path>
                        <path d="m4.93 19.07 4.24-4.24m5.66-5.66 4.24-4.24"></path>
                    </svg>
                    Chemical
                </label>
                <select id="chemical-filter" multiple class="select-modern">
                </select>
            </div>

            <button id="clear-filters" class="btn-primary">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                    </path>
                </svg>
                Clear All Filters
            </button>
        </div>

        <div class="sidebar-footer">
            <p>Click on a marker to view details</p>
            <p class="data-count">Loading data...</p>
        </div>
    </div>

    <!-- Map Container -->
    <div id="map-container">
        <button id="home-button" class="map-btn" title="Reset map view">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
        </button>

        <button id="compare-button" class="map-btn compare-btn" title="Compare simulants" style="top: 60px;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
            </svg>
        </button>

        <div id="map"></div>
    </div>

    <!-- Info Panel (slides up from bottom) -->
    <div id="info-panel-1" class="info-panel">
        <div class="panel-handle" data-panel="1">
            <div class="handle-bar"></div>
        </div>

        <div class="panel-header">
            <h3 class="panel-title">Select a simulant</h3>
            <div class="panel-actions">
                <button class="btn-icon" id="pin-panel-1" title="Pin panel">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 17v5m-3-2 3 3 3-3"></path>
                        <path d="M9 5v0a3 3 0 0 1 3-3v0a3 3 0 0 1 3 3v0M9 5h6m-6 0v7m6-7v7m-6 0h6"></path>
                    </svg>
                </button>
                <button class="btn-icon close-panel" data-panel="1" title="Close panel">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>

        <div class="panel-content">
            <div class="info-grid">
                <div class="info-card">
                    <h4>Mineral Composition</h4>
                    <div class="chart-wrapper">
                        <canvas id="mineral-chart-1"></canvas>
                    </div>
                </div>

                <div class="info-card">
                    <h4>Chemical Composition</h4>
                    <div class="chart-wrapper">
                        <canvas id="chemical-chart-1"></canvas>
                    </div>
                </div>
            </div>

            <div class="info-card references-card">
                <h4>References</h4>
                <div id="references-panel-1" class="references-content">
                    <p class="placeholder-text">Select a simulant to view references</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Second Info Panel (for comparison) -->
    <div id="info-panel-2" class="info-panel comparison-panel">
        <div class="panel-handle" data-panel="2">
            <div class="handle-bar"></div>
        </div>

        <div class="panel-header">
            <h3 class="panel-title">Select a second simulant</h3>
            <div class="panel-actions">
                <button class="btn-icon" id="pin-panel-2" title="Pin panel">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 17v5m-3-2 3 3 3-3"></path>
                        <path d="M9 5v0a3 3 0 0 1 3-3v0a3 3 0 0 1 3 3v0M9 5h6m-6 0v7m6-7v7m-6 0h6"></path>
                    </svg>
                </button>
                <button class="btn-icon close-panel" data-panel="2" title="Close panel">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
        </div>

        <div class="panel-content">
            <div class="info-grid">
                <div class="info-card">
                    <h4>Mineral Composition</h4>
                    <div class="chart-wrapper">
                        <canvas id="mineral-chart-2"></canvas>
                    </div>
                </div>

                <div class="info-card">
                    <h4>Chemical Composition</h4>
                    <div class="chart-wrapper">
                        <canvas id="chemical-chart-2"></canvas>
                    </div>
                </div>
            </div>

            <div class="info-card references-card">
                <h4>References</h4>
                <div id="references-panel-2" class="references-content">
                    <p class="placeholder-text">Select a simulant to view references</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <script src="app.js"></script>
</body>

</html>